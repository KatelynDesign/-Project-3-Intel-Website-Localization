<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Intel: Sustainability Through the Ages</title>
  <link rel="stylesheet" href="style.css" />
  <!-- Bootstrap CSS for LTR and RTL support -->
  <link id="bootstrap-css" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <style>
    /* Set the main background color to Intel blue */
    body {
      background-color: #f5f7fa; /* Match the card section background */
      color: #222;
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
    }
    /* Style the header with a gradient and rounded corners */
    header {
      background: linear-gradient(135deg, #0071c5 80%, #00b8fc 100%); /* Intel blue gradient */
      box-shadow: 0 2px 8px rgba(0,0,0,0.04); /* Subtle shadow for depth */
      border-radius: 0 0 32px 32px; /* Rounded bottom corners for a modern look */
      padding: 0;
      position: relative;
      min-height: 260px;
    }
    /* Professional hero layout: logo left, text right */
    header div {
      display: flex;
      flex-direction: row;
      align-items: center;
      justify-content: flex-start;
      padding: 48px 32px 48px 32px;
      max-width: 900px;
      margin: 0 auto;
      gap: 48px;
      text-align: left;
      background: none;
    }
    header img {
      width: 140px; /* Professional size for logo */
      height: auto;
      margin: 0;
      display: block;
      flex-shrink: 0;
      align-self: flex-start;
    }
    .hero-text {
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      gap: 18px;
      text-align: left;
    }
    /* Style the main heading */
    h1 {
      color: #fff; /* White */
      font-size: 3em; /* Large, bold heading */
      font-weight: 700;
      margin: 0 0 10px 0;
      letter-spacing: 0.5px;
      line-height: 1.1;
      text-shadow: 0 2px 8px rgba(0,0,0,0.08); /* Subtle shadow for clarity */
      font-family: Arial, sans-serif;
    }
    /* Style the subheading/description */
    header p {
      color: #e6e6e6; /* Light gray */
      font-size: 1.1em; /* Make the subheading smaller */
      margin: 0;
      line-height: 1.6;
      max-width: 600px;
      text-shadow: 0 1px 4px rgba(0,0,0,0.06);
      font-family: Arial, sans-serif;
    }
    /* Add a subtle divider below the header */
    header::after {
      content: "";
      display: block;
      height: 4px;
      width: 60px;
      background: #00b8fc; /* Accent blue */
      margin: 28px auto 0 auto;
      border-radius: 2px;
      opacity: 0.7;
    }
    /* Style the timeline section background */
    section {
      background-color: #f5f7fa; /* Keep the card section the same color as the cards */
      color: #222;
      padding: 30px 0;
      /* Remove flexbox and scrolling for a simple stacked layout */
      /* display: flex; */
      /* flex-wrap: nowrap; */
      /* justify-content: flex-start; */
      /* gap: 20px; */
      /* overflow-x: auto; */
      /* scroll-behavior: smooth; */
      /* max-width: 1280px; */
      /* margin: 0 auto; */
      /* min-width: 0; */
      /* box-sizing: border-box; */
    }
    /* Style each timeline card */
    section > div {
      background-color: #f5f7fa; /* Very light gray/blue */
      border: 1px solid #c6d5e1; /* Light blue-gray border */
      border-radius: 8px;
      /* margin: 20px auto; -- margin is not needed with flexbox gap */
      width: 300px;              /* Fixed width for each card */
      min-width: 300px;          /* Ensure all cards are same width */
      max-width: 300px;
      padding: 20px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.04);
      transition: box-shadow 0.2s;
      display: flex;
      flex-direction: column;
      align-items: center;
      flex-shrink: 0;            /* Prevent cards from shrinking */
    }
    /* Add a hover effect to cards */
    section > div:hover {
      box-shadow: 0 4px 16px rgba(0,113,197,0.15);
      border-color: #0071c5;
    }
    /* Style card headings */
    h2 {
      color: #0071c5; /* Intel blue */
      margin-top: 0;
    }
    h3 {
      color: #222; /* Almost black */
      margin-bottom: 10px;
    }
    /* Style images inside cards */
    section img {
      width: 100%;
      border-radius: 4px;
      margin-bottom: 10px;
      cursor: pointer; /* Show pointer on hover */
    }
    /* Hide the paragraph by default, but allow enough space for transition on small screens */
    .card-text {
      max-height: 0;
      overflow: hidden;
      opacity: 0;
      transition: max-height 0.5s ease, opacity 0.5s ease;
      margin: 0;
      padding: 0 0;
    }
    /* Show the paragraph when hovering over the image */
    .card-img-hover:hover + .card-text,
    .card-img-hover:focus + .card-text {
      max-height: 200px;
      opacity: 1;
      margin-top: 10px;
      padding: 0 0 10px 0;
    }

    /* Horizontal scroll for cards on big screens */
    section.card-scroll {
      display: flex;
      flex-direction: row;
      gap: 0px;
      overflow-x: auto;
      scroll-snap-type: x mandatory;
      padding: 30px 0 30px 12px;
      max-width: 1240px;
      margin: 0 auto;
      box-sizing: border-box;
      direction: ltr;
    }
    section.card-scroll > div {
      margin-right: 20px;
      margin-left: 0;
      flex: 0 0 300px;
      min-width: 300px;
      max-width: 300px;
      scroll-snap-align: start;
      align-items: center;
      text-align: left;
    }
    section.card-scroll > div:last-child {
      margin-right: 0;
    }
    /* Show only 4 cards at a time on big screens */
    @media (min-width: 1101px) {
      section.card-scroll {
        max-width: 1240px;
        overflow-x: auto;
      }
    }
    /* Show 3 cards at a time on medium-large screens */
    @media (max-width: 1100px) and (min-width: 901px) {
      section.card-scroll {
        max-width: 940px; /* 3 cards */
      }
    }
    /* Show 2 cards at a time on medium screens */
    @media (max-width: 900px) and (min-width: 701px) {
      section.card-scroll {
        max-width: 620px; /* 2 cards */
      }
    }
    @media (max-width: 700px) {
      section.card-scroll {
        flex-direction: column;
        max-width: 98vw;
        gap: 32px; /* Add more space between cards so they can stretch down */
        padding: 12px 0;
        overflow-x: visible;
        align-items: center;
        direction: ltr;
      }
      section.card-scroll > div {
        min-width: 0;
        max-width: 77vw;
        width: 77vw;
        padding: 12px 6px 10px 6px;
        margin-left: auto;
        margin-right: auto;
        margin-bottom: 32px;
        align-items: center;
        text-align: left;
      }
      section.card-scroll > div:last-child {
        margin-bottom: 0;
      }
      /* When card is hovered/focused, stretch card down to fit all text */
      section.card-scroll > div:hover,
      section.card-scroll > div:focus-within {
        box-shadow: 0 16px 36px 0 rgba(0,113,197,0.25), 0 8px 32px 0 rgba(0,0,0,0.13);
        border-color: #0071c5;
        transform: translateY(-10px) scale(1.04) rotate(1deg);
        background: linear-gradient(120deg, #fafdff 80%, #e6f4fb 100%);
        filter: brightness(1.05) drop-shadow(0 0 18px #00b8fc44);
        outline: 2px solid #00b8fc;
        outline-offset: 2px;
        z-index: 2;
        margin-bottom: 56px;
        min-height: 380px; /* Stretch more on hover to fit all text */
        height: auto;
        max-height: 2000px;
        margin-bottom: 56px;
        overflow: visible;
        z-index: 2;
      }
      /* Make sure the card text can expand fully on small screens */
      .card-img-hover:hover + .card-text,
      .card-img-hover:focus + .card-text {
        max-height: 2000px; /* Large enough for all text */
        opacity: 1;
        margin-top: 10px;
        padding: 0 0 10px 0;
        overflow: hidden;
      }
      /* Main heading and subtext adjustments for small screens */
      #main-heading {
        margin-bottom: 22px !important; /* Add more space below heading */
      }
      #main-subtext {
        margin-top: 18px !important; /* Add space above subtext */
      }
      body > p {
        margin: 24px 0 10px 0; /* Adjust margin for instruction text */
        font-size: 1em; /* Slightly smaller font size */
      }
    }
  </style>
</head>
<body>
  <!-- Language Selector Dropdown at the top-right corner -->
  <!-- Removed the language dropdown button for simplicity -->
  <!-- Header / Hero Section -->
  <header>
    <div>
      <img src="img/intel-header-logo.svg" alt="Intel Logo" id="logo-img" />
      <div class="hero-text">
        <!-- Main heading and subtext restored to original left alignment -->
        <h1 class="responsive-heading" id="main-heading" style="text-transform: uppercase; font-size:2.6em; margin: 0 0 10px 0; text-align: left; letter-spacing: 1px;">
          <span data-translate="heading">Sustainability Through The Ages</span>
        </h1>
        <p id="main-subtext" style="margin-top: 24px; font-size:1em; text-align: left; line-height: 1.7; max-width: 600px;">
          <span data-translate="subtext">
            Explore Intel's journey through time, discovering how our commitment
            to innovation has shaped a more sustainable future for technology 
            and our planet.
          </span>
        </p>
      </div>
    </div>
  </header>

  <!-- Timeline Cards Section -->
  <section class="card-scroll">
    <!-- Card 1: 1968 -->
    <div>
      <h2>1968</h2>
      <h3 data-translate="card1-title">Intel Founded</h3>
      <img src="img/1.jpg" alt="Placeholder Image" class="card-img-hover" />
      <p class="card-text" data-translate="card1-text">
        Robert Noyce and Gordon Moore rename the newly formed company 
        NM Electronics to Intel Corporation, laying the foundation for 
        decades of technological innovation.
      </p>
    </div>

    <!-- Card 2: 1971 -->
    <div>
      <h2>1971</h2>
      <h3 data-translate="card2-title">First Microprocessor</h3>
      <img src="img/2.jpg" alt="Placeholder Image" class="card-img-hover" />
      <p class="card-text" data-translate="card2-text">
        Intel debuts the 4004, the world's first commercial microprocessor, 
        igniting the microprocessor revolution and propelling the future 
        of computing devices.
      </p>
    </div>

    <!-- Card 3: 1978 -->
    <div>
      <h2>1978</h2>
      <h3 data-translate="card3-title">8086 Processor</h3>
      <img src="img/3.jpg" alt="Placeholder Image" class="card-img-hover" />
      <p class="card-text" data-translate="card3-text">
        Launch of the 8086 processor, establishing the x86 architecture 
        that drives countless PCs and servers in the modern era.
      </p>
    </div>

    <!-- Card 4: 1985 -->
    <div>
      <h2>1985</h2>
      <h3 data-translate="card4-title">386 Processor</h3>
      <img src="img/4.jpg" alt="Placeholder Image" class="card-img-hover" />
      <p class="card-text" data-translate="card4-text">
        Intel introduces the 386 processor with 32-bit architecture, 
        ushering in a new era of performance and multitasking for 
        personal computers.
      </p>
    </div>

    <!-- Card 5: 2006 -->
    <div>
      <h2>2006</h2>
      <h3 data-translate="card5-title">Peak GHG Emissions</h3>
      <img src="data:image/svg+xml;utf8,<svg width='250' height='100' xmlns='http://www.w3.org/2000/svg'><rect width='250' height='100' fill='%23e0eaf3'/><rect x='30' y='60' width='30' height='30' fill='%2377aaff'/><rect x='70' y='40' width='30' height='50' fill='%235b9bd5'/><rect x='110' y='20' width='30' height='70' fill='%233e7cb6'/><rect x='150' y='50' width='30' height='40' fill='%239cc3e6'/><rect x='190' y='30' width='30' height='60' fill='%234a90e2'/><text x='125' y='95' font-size='16' fill='%233e7cb6' text-anchor='middle'>GHG Emissions</text></svg>" alt="Bar chart showing peak emissions" class="card-img-hover" />
      <p class="card-text" data-translate="card5-text">
        This year marks Intel's highest annual greenhouse gas emissions 
        for operations. Over subsequent years, Intel invests heavily in 
        chemical abatement, renewable energy, and energy-efficient 
        manufacturing to reverse this trend.
      </p>
    </div>

    <!-- Card 6: 2020 -->
    <div>
      <h2>2020</h2>
      <h3 data-translate="card6-title">RISE Strategy</h3>
      <img 
        src="data:image/svg+xml;utf8,<svg width='250' height='100' xmlns='http://www.w3.org/2000/svg'><rect width='250' height='100' fill='%23e0eaf3'/><circle cx='60' cy='50' r='28' fill='%230071c5'/><text x='60' y='56' font-size='18' fill='white' text-anchor='middle' font-family='Arial'>R</text><circle cx='120' cy='50' r='28' fill='%2300b8fc'/><text x='120' y='56' font-size='18' fill='white' text-anchor='middle' font-family='Arial'>I</text><circle cx='180' cy='50' r='28' fill='%234a90e2'/><text x='180' y='56' font-size='18' fill='white' text-anchor='middle' font-family='Arial'>S</text><rect x='210' y='35' width='28' height='28' rx='6' fill='%239cc3e6'/><text x='224' y='56' font-size='18' fill='white' text-anchor='middle' font-family='Arial'>E</text><text x='125' y='90' font-size='14' fill='%233e7cb6' text-anchor='middle' font-family='Arial'>2030 Goals</text></svg>" 
        alt="RISE 2030 Goals illustration" 
        class="card-img-hover" 
      />
      <p class="card-text" data-translate="card6-text">
        Intel launches its RISE (Responsible, Inclusive, Sustainable, 
        Enabling) strategy and 2030 goals, aiming to drive industry-wide 
        progress on climate action, water stewardship, and waste reduction.
      </p>
    </div>

    <!-- Card 7: 2022 -->
    <div>
      <h2>2022</h2>
      <h3 data-translate="card7-title">Net-Zero By 2040</h3>
      <img 
        src="data:image/svg+xml;utf8,<svg width='250' height='100' xmlns='http://www.w3.org/2000/svg'><rect width='250' height='100' fill='%23e0eaf3'/><circle cx='90' cy='55' r='30' fill='%2300b8fc' stroke='%230071c5' stroke-width='3'/><ellipse cx='90' cy='55' rx='22' ry='10' fill='white' opacity='0.4'/><ellipse cx='90' cy='55' rx='10' ry='22' fill='white' opacity='0.3'/><polyline points='140,70 155,85 180,55' fill='none' stroke='%2336b37e' stroke-width='6' stroke-linecap='round' stroke-linejoin='round'/><text x='125' y='95' font-size='14' fill='%233e7cb6' text-anchor='middle' font-family='Arial'>Net-Zero Goal</text></svg>" 
        alt="Globe with check mark for net-zero emissions" 
        class="card-img-hover" 
      />
      <p class="card-text" data-translate="card7-text">
        Intel announces its commitment to achieve net-zero greenhouse 
        gas emissions (Scope 1 and 2) across its global operations 
        by 2040, building on years of environmental initiatives.
      </p>
    </div>

    <!-- Card 8: 2023 -->
    <div>
      <h2>2023</h2>
      <h3 data-translate="card8-title">Renewable Electricity</h3>
      <img 
        src="data:image/svg+xml;utf8,<svg width='250' height='100' xmlns='http://www.w3.org/2000/svg'><rect width='250' height='100' fill='%23e0eaf3'/><circle cx='60' cy='40' r='18' fill='%23ffe066' stroke='%23ffd700' stroke-width='3'/><rect x='140' y='60' width='8' height='30' fill='%239cc3e6'/><polygon points='144,60 134,80 154,80' fill='%2300b8fc'/><line x1='144' y1='60' x2='144' y2='40' stroke='%230071c5' stroke-width='3'/><line x1='144' y1='60' x2='130' y2='70' stroke='%230071c5' stroke-width='3'/><line x1='144' y1='60' x2='158' y2='70' stroke='%230071c5' stroke-width='3'/><text x='125' y='95' font-size='14' fill='%233e7cb6' text-anchor='middle' font-family='Arial'>99% Renewable</text></svg>" 
        alt="Sun and wind turbine for renewable electricity" 
        class="card-img-hover" 
      />
      <p class="card-text" data-translate="card8-text">
        The company achieves 99% renewable electricity usage worldwide, 
        helping to drastically lower carbon emissions and driving progress 
        toward Intel's long-term sustainability goals.
      </p>
    </div>

    <!-- Card 9: 2024 -->
    <div>
      <h2>2024</h2>
      <h3 data-translate="card9-title">Sustainability Summit</h3>
      <img 
        src="data:image/svg+xml;utf8,<svg width='250' height='100' xmlns='http://www.w3.org/2000/svg'><rect width='250' height='100' fill='%23e0eaf3'/><ellipse cx='125' cy='70' rx='60' ry='18' fill='%239cc3e6'/><circle cx='85' cy='60' r='10' fill='%2300b8fc'/><circle cx='125' cy='55' r='10' fill='%234a90e2'/><circle cx='165' cy='60' r='10' fill='%2377aaff'/><ellipse cx='125' cy='70' rx='18' ry='7' fill='%23e0f7e9'/><path d='M125 70 Q130 60 135 70 Q130 65 125 70' fill='%2336b37e'/><text x='125' y='95' font-size='14' fill='%233e7cb6' text-anchor='middle' font-family='Arial'>Summit 2024</text></svg>" 
        alt="People at a table with a leaf for sustainability summit" 
        class="card-img-hover" 
      />
      <p class="card-text" data-translate="card9-text">
        Intel hosts its first Sustainability Summit, uniting suppliers, 
        government officials, and industry leaders to collaborate on 
        next-generation sustainable semiconductor manufacturing.
      </p>
    </div>
  </section>
  <!-- Bottom instruction text, always at the bottom and responsive -->
  <p>
    <span data-translate="instruction">Scroll to view timeline &nbsp;|&nbsp; Hover over cards to learn more!</span>
  </p>

  <!-- Add a little more space between the instruction and the learn more facts -->
  <div style="height: 48px;"></div>

  <!-- Learn More Section: 3 Intel Topics, using Bootstrap grid for proper layout and RTL support -->
  <div class="container my-5">
    <!-- Use Bootstrap's row and col for a responsive 3-column layout -->
    <div class="row g-4 text-center justify-content-center learn-more-facts" id="learn-more-facts-row">
      <!-- Fact 1 -->
      <div class="col-12 col-md-4 d-flex flex-column align-items-center learn-more-fact" style="background:none; border:none; box-shadow:none; padding:0;">
        <!-- Heading with icon at the front, not in a card -->
        <div class="learn-more-fact-heading">
          <span class="learn-more-fact-icon">
            <!-- ...existing code for icon... -->
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="#0071c5" class="bi bi-cpu" viewBox="0 0 16 16">
              <path d="M5 0a.5.5 0 0 1 .5.5V2h1V.5a.5.5 0 0 1 1 0V2h1V.5a.5.5 0 0 1 1 0V2h.5A1.5 1.5 0 0 1 14 3.5V4h1.5a.5.5 0 0 1 0 1H14v1h1.5a.5.5 0 0 1 0 1H14v1h1.5a.5.5 0 0 1 0 1H14v1h1.5a.5.5 0 0 1 0 1H14v.5A1.5 1.5 0 0 1 12.5 16H12v1.5a.5.5 0 0 1-1 0V16h-1v1.5a.5.5 0 0 1-1 0V16h-1v1.5a.5.5 0 0 1-1 0V16h-.5A1.5 1.5 0 0 1 2 14.5V14H.5a.5.5 0 0 1 0-1H2v-1H.5a.5.5 0 0 1 0-1H2v-1H.5a.5.5 0 0 1 0-1H2v-1H.5a.5.5 0 0 1 0-1H2v-.5A1.5 1.5 0 0 1 3.5 2H4V.5A.5.5 0 0 1 5 0zm1 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h4a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2H6zm0 1h4a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1z"/>
            </svg>
          </span>
          <h3 style="color:#0071c5; margin:0;">Microprocessor Innovation</h3>
        </div>
        <p>
          Intel is famous for inventing the world's first commercial microprocessor, powering computers and devices everywhere.
        </p>
        <a href="https://www.intel.com/content/www/us/en/history/historic-timeline.html" target="_blank" class="btn btn-primary mt-2" aria-label="Learn more about Intel microprocessors">
          Learn More
        </a>
      </div>
      <!-- Fact 2 -->
      <div class="col-12 col-md-4 d-flex flex-column align-items-center learn-more-fact" style="background:none; border:none; box-shadow:none; padding:0;">
        <div class="learn-more-fact-heading">
          <span class="learn-more-fact-icon">
            <!-- ...existing code for icon... -->
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="#0071c5" class="bi bi-graph-up" viewBox="0 0 16 16">
              <path fill-rule="evenodd" d="M0 0h1v15h15v1H0V0zm14.293 4.707a1 1 0 0 0-1.414-1.414l-3.182 3.182-2.182-2.182a1 1 0 0 0-1.414 0l-4 4 .708.708 4-4a.5.5 0 0 1 .708 0l2.182 2.182a1 1 0 0 0 1.414 0l3.182-3.182z"/>
            </svg>
          </span>
          <h3 style="color:#0071c5; margin:0;">Moore's Law</h3>
        </div>
        <p>
          Intel co-founder Gordon Moore predicted that computer chips would double in power every two years, shaping the pace of technology.
        </p>
        <a href="https://www.intel.com/content/www/us/en/silicon-innovations/moores-law-technology.html" target="_blank" class="btn btn-primary mt-2" aria-label="Learn more about Moore's Law">
          Learn More
        </a>
      </div>
      <!-- Fact 3 -->
      <div class="col-12 col-md-4 d-flex flex-column align-items-center learn-more-fact" style="background:none; border:none; box-shadow:none; padding:0;">
        <div class="learn-more-fact-heading">
          <span class="learn-more-fact-icon">
            <!-- ...existing code for icon... -->
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="#0071c5" class="bi bi-leaf" viewBox="0 0 16 16">
              <path d="M15.854.146a.5.5 0 0 0-.5-.146C13.295.5 10.5 1.5 8.5 3.5 6.5 5.5 5.5 8.295 5.146 10.646a.5.5 0 0 0 .146.5l2.5 2.5a.5.5 0 0 0 .5.146C8.705 15.5 11.5 14.5 13.5 12.5c2-2 3-4.795 3.354-7.146a.5.5 0 0 0-.146-.5l-2.5-2.5zM8.5 14.5l-2.5-2.5C6.5 8.705 7.5 5.91 9.5 3.91c2-2 4.795-3 7.146-3.354l2.5 2.5C15.5 6.5 14.5 9.295 12.5 11.295c-2 2-4.795 3-7.146 3.354z"/>
            </svg>
          </span>
          <h3 style="color:#0071c5; margin:0;">Sustainability Leadership</h3>
        </div>
        <p>
          Intel leads in green manufacturing, renewable energy, and responsible sourcing to help protect our planet for the future.
        </p>
        <a href="https://www.intel.com/content/www/us/en/corporate-responsibility/environmental-sustainability.html" target="_blank" class="btn btn-primary mt-2" aria-label="Learn more about Intel sustainability">
          Learn More
        </a>
      </div>
    </div>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    // List of RTL language codes (add more as needed)
    var rtlLangs = ['ar', 'he', 'fa', 'ur', 'dv', 'ps', 'ku', 'yi'];

    // Function to reverse card order for RTL and restore for LTR
    function updateCardOrderForRTL() {
      var html = document.documentElement;
      var lang = html.lang || 'en';
      var isRTL = rtlLangs.includes(lang);
      var cardsSection = document.querySelector('section.card-scroll');
      if (!cardsSection) return;

      // Get all cards as an array
      var cards = Array.from(cardsSection.children);

      // For RTL: reverse order if not already reversed
      if (isRTL && cardsSection.getAttribute('data-rtl') !== 'true') {
        for (let i = cards.length - 1; i >= 0; i--) {
          cardsSection.appendChild(cards[i]);
        }
        cardsSection.setAttribute('data-rtl', 'true');
        // Scroll navigation to the far right (end)
        setTimeout(function() {
          cardsSection.scrollLeft = cardsSection.scrollWidth;
        }, 100);
      }
      // For LTR: restore original order if currently RTL
      if (!isRTL && cardsSection.getAttribute('data-rtl') === 'true') {
        for (let i = cards.length - 1; i >= 0; i--) {
          cardsSection.appendChild(cards[i]);
        }
        cardsSection.setAttribute('data-rtl', 'false');
        setTimeout(function() {
          cardsSection.scrollLeft = 0;
        }, 100);
      }
    }

    // Function to reverse/restore Learn More facts for RTL/LTR
    function updateLearnMoreFactsForRTL() {
      var html = document.documentElement;
      var lang = html.lang || 'en';
      var isRTL = rtlLangs.includes(lang);
      var factsRow = document.getElementById('learn-more-facts-row');
      if (!factsRow) return;

      var facts = Array.from(factsRow.children);

      // For RTL: reverse order and move icon after title
      if (isRTL && factsRow.getAttribute('data-rtl') !== 'true') {
        // Reverse order
        for (let i = facts.length - 1; i >= 0; i--) {
          factsRow.appendChild(facts[i]);
        }
        // Move icon after title for each fact
        facts.forEach(function(fact) {
          var heading = fact.querySelector('.learn-more-fact-heading');
          if (heading) {
            var icon = heading.querySelector('.learn-more-fact-icon');
            var title = heading.querySelector('h3');
            if (icon && title && icon.nextSibling !== null) {
              // Move icon after title if not already
              heading.appendChild(icon);
            }
          }
        });
        factsRow.setAttribute('data-rtl', 'true');
      }
      // For LTR: restore original order and icon before title
      if (!isRTL && factsRow.getAttribute('data-rtl') === 'true') {
        for (let i = facts.length - 1; i >= 0; i--) {
          factsRow.appendChild(facts[i]);
        }
        // Move icon before title for each fact
        facts.forEach(function(fact) {
          var heading = fact.querySelector('.learn-more-fact-heading');
          if (heading) {
            var icon = heading.querySelector('.learn-more-fact-icon');
            var title = heading.querySelector('h3');
            if (icon && title && icon.nextSibling !== title) {
              heading.insertBefore(icon, title);
            }
          }
        });
        factsRow.setAttribute('data-rtl', 'false');
      }
    }

    // Function to apply RTL Bootstrap CSS if needed
    function applyBootstrapRTL() {
      var html = document.documentElement;
      var lang = html.lang || 'en';
      var isRTL = rtlLangs.includes(lang);
      var bootstrapCss = document.getElementById('bootstrap-css');
      if (isRTL) {
        bootstrapCss.href = "https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.rtl.min.css";
      } else {
        bootstrapCss.href = "https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css";
      }
    }

    // Detect language changes (e.g., Google Translate) and apply RTL if needed
    function handleLangChange() {
      applyBootstrapRTL();
      updateCardOrderForRTL();
      updateLearnMoreFactsForRTL();
    }

    // Observe changes to the <html> lang attribute
    var observer = new MutationObserver(function(mutations) {
      mutations.forEach(function(mutation) {
        if (mutation.attributeName === "lang") {
          handleLangChange();
        }
      });
    });
    observer.observe(document.documentElement, { attributes: true });

    // Initial call on page load
    window.addEventListener('DOMContentLoaded', function() {
      applyBootstrapRTL();
      updateCardOrderForRTL();
      updateLearnMoreFactsForRTL();
    });
  </script>
</body>
</html>
